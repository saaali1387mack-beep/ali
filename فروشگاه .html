<!DOCTYPE html>
<html lang="fa">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>فروشگاه حرفه‌ای علی</title>
<style>
    body { font-family: sans-serif; margin: 0; padding: 0; background: #f4f4f4; }
    header { background: #4CAF50; color: white; padding: 1rem; text-align: center; }
    nav { display: flex; justify-content: center; margin: 1rem; }
    nav button { margin: 0 5px; padding: 0.5rem 1rem; border: none; border-radius: 5px; background: #4CAF50; color: white; cursor: pointer; }
    .products { display: flex; flex-wrap: wrap; justify-content: center; margin: 1rem; }
    .product { background: white; margin: 1rem; padding: 1rem; width: 200px; border-radius: 10px; box-shadow: 0 0 10px rgba(0,0,0,0.1);}
    .product img { width: 100%; border-radius: 10px; }
    button { background: #4CAF50; color: white; border: none; padding: 0.5rem; cursor: pointer; border-radius: 5px; margin-top: 0.5rem; }
    #cart { position: fixed; top: 10px; right: 10px; background: white; padding: 1rem; border-radius: 10px; box-shadow: 0 0 10px rgba(0,0,0,0.2); width: 250px; max-height: 90vh; overflow-y: auto; }
    #cart-items li { display: flex; justify-content: space-between; margin-bottom: 0.5rem; }
    @media(max-width: 600px) { .products { flex-direction: column; align-items: center; } }
    .checkout-btn { display: block; margin: 1rem auto; padding: 0.8rem 1.5rem; font-size:1rem; border-radius:10px; background:#FF5722; color:white; border:none; cursor:pointer; }
</style>
</head>
<body>

<header>
    <h1>فروشگاه حرفه‌ای علی</h1>
</header>

<nav>
    <button onclick="filterCategory('all')">همه محصولات</button>
    <button onclick="filterCategory('لباس')">لباس</button>
    <button onclick="filterCategory('کتاب')">کتاب</button>
    <button onclick="filterCategory('ابزار')">ابزار</button>
</nav>

<div class="products" id="products"></div>

<div id="cart">
    <h3>سبد خرید</h3>
    <ul id="cart-items"></ul>
    <p>جمع کل: <span id="total">0</span> تومان</p>
</div>

<button class="checkout-btn" onclick="checkout()">پرداخت</button>

<script>
    const allProducts = [
        {id:1,name:'تی‌شرت',price:100000,category:'لباس',img:'https://via.placeholder.com/200'},
        {id:2,name:'کتاب داستان',price:80000,category:'کتاب',img:'https://via.placeholder.com/200'},
        {id:3,name:'چکش',price:150000,category:'ابزار',img:'https://via.placeholder.com/200'},
        {id:4,name:'کفش',price:200000,category:'لباس',img:'https://via.placeholder.com/200'}
    ];

    let displayedProducts = [...allProducts];
    let cart = [];

    function filterCategory(category) {
        displayedProducts = category==='all'?allProducts:allProducts.filter(p=>p.category===category);
        renderProducts();
    }

    function renderProducts() {
        const container = document.getElementById('products');
        container.innerHTML='';
        displayedProducts.forEach(p=>{
            const div=document.createElement('div');
            div.className='product';
            div.innerHTML=`
                <img src="${p.img}" alt="${p.name}">
                <h3>${p.name}</h3>
                <p>قیمت: ${p.price.toLocaleString()} تومان</p>
                <button onclick="addToCart(${p.id})">افزودن به سبد</button>
            `;
            container.appendChild(div);
        });
    }

    function addToCart(id) {
        const product = allProducts.find(p=>p.id===id);
        const cartItem = cart.find(c=>c.id===id);
        if(cartItem) cartItem.quantity+=1;
        else cart.push({...product,quantity:1});
        renderCart();
    }

    function removeFromCart(id) {
        cart = cart.filter(c=>c.id!==id);
        renderCart();
    }

    function renderCart() {
        const cartItems = document.getElementById('cart-items');
        const totalEl = document.getElementById('total');
        cartItems.innerHTML='';
        let total=0;
        cart.forEach(item=>{
            total+=item.price*item.quantity;
            const li=document.createElement('li');
            li.innerHTML=`${item.name} x${item.quantity} - ${item.price.toLocaleString()} تومان 
            <button onclick="removeFromCart(${item.id})">❌</button>`;
            cartItems.appendChild(li);
        });
        totalEl.textContent = total.toLocaleString();
    }

    function checkout() {
        if(cart.length===0){ alert('سبد خرید شما خالی است!'); return; }
        let orderSummary='سفارش شما:\n';
        cart.forEach(item=>{
            orderSummary+=`${item.name} x${item.quantity} - ${item.price.toLocaleString()} تومان\n`;
        });
        const total = cart.reduce((sum,item)=>sum+item.price*item.quantity,0);
        orderSummary+=`جمع کل: ${total.toLocaleString()} تومان\n\n`;
        orderSummary+='آیا مایل به ثبت سفارش هستید؟';
        
        if(confirm(orderSummary)){
            alert('🎉 سفارش شما با موفقیت ثبت شد! (پرداخت شبیه‌سازی شده)');
            cart=[];
            renderCart();
        }
    }

    renderProducts();
</script>

</body>
</html>